(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{619:e=>{e.exports={container:"AdminDashboard_container__lmrTq",icon:"AdminDashboard_icon__erolX",header:"AdminDashboard_header__jjkgY",title:"AdminDashboard_title__YcPPd",logoutIcon:"AdminDashboard_logoutIcon__SOz4Q",content:"AdminDashboard_content__vXS_l",sidebar:"AdminDashboard_sidebar__qQfRL",sidebarButton:"AdminDashboard_sidebarButton__K12Sy",sidebarButtons:"AdminDashboard_sidebarButtons__4wS90",sidebarItem:"AdminDashboard_sidebarItem__eJUvB",active:"AdminDashboard_active__e4Ed8",mainContent:"AdminDashboard_mainContent__F7zXi"}},3077:(e,a,i)=>{Promise.resolve().then(i.bind(i,6073))},6073:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>d});var n=i(5155),s=i(2115),t=i(619),r=i.n(t),o=i(9509);let d=()=>{let[e,a]=(0,s.useState)([]),[i,t]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let e=o.env.NEXT_PUBLIC_BACKEND_URL;if(!e){c("Backend URL is not defined"),t(!1);return}(async()=>{let i=localStorage.getItem("accessToken");if(!i){c("You are not logged in as admin."),t(!1);return}try{let n=await fetch("".concat(e,"/api/notifications/list/"),{headers:{Authorization:"Bearer ".concat(i)}});if(!n.ok)throw Error("Error: ".concat(n.status));let s=await n.json();a(s)}catch(e){console.error("Failed to fetch notifications:",e),c(e instanceof Error?e.message:"Unknown error")}finally{t(!1)}})()},[]),i)?(0,n.jsx)("div",{className:r().adminContainer,children:(0,n.jsx)("p",{children:"Loading notifications..."})}):d?(0,n.jsxs)("div",{className:r().adminContainer,children:[(0,n.jsxs)("p",{children:["Error loading notifications: ",d]}),(0,n.jsx)("button",{onClick:()=>location.reload(),children:"Retry"})]}):(0,n.jsxs)("div",{className:r().adminContainer,children:[(0,n.jsx)("h1",{children:"User Notifications"}),e.length>0?(0,n.jsx)("div",{className:r().messagesGrid,children:e.map(e=>(0,n.jsxs)("div",{className:r().messageCard,children:[(0,n.jsxs)("div",{className:r().messageHeader,children:[(0,n.jsx)("div",{children:new Date(e.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,n.jsx)("h3",{children:e.full_name}),(0,n.jsx)("p",{className:r().messageEmail,children:e.email})]}),(0,n.jsxs)("div",{className:r().messageBody,children:[e.title&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Title:"})," ",e.title]}),(0,n.jsx)("p",{children:e.message})]})]},e._id))}):(0,n.jsx)("p",{children:"No notifications found"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[260,441,684,358],()=>a(3077)),_N_E=e.O()}]);