(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1035:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6346,23)),Promise.resolve().then(a.t.bind(a,7924,23)),Promise.resolve().then(a.t.bind(a,5656,23)),Promise.resolve().then(a.t.bind(a,99,23)),Promise.resolve().then(a.t.bind(a,8243,23)),Promise.resolve().then(a.t.bind(a,8827,23)),Promise.resolve().then(a.t.bind(a,2763,23)),Promise.resolve().then(a.t.bind(a,7173,23))},1052:e=>{e.exports={tabSection:"BlogManagement_tabSection__cc1Ig",tabTitle:"BlogManagement_tabTitle__C6ewQ",tabContent:"BlogManagement_tabContent__PDy3d",blogNav:"BlogManagement_blogNav__w5_43",navButton:"BlogManagement_navButton__mVfN2",activeNav:"BlogManagement_activeNav__5QoZb",createBlog:"BlogManagement_createBlog__TUDEb",formTitle:"BlogManagement_formTitle__padpB",form:"BlogManagement_form__nSzsf",input:"BlogManagement_input__RIGGY",textarea:"BlogManagement_textarea__foIq3",dropdownGroup:"BlogManagement_dropdownGroup__QaClG",dropdown:"BlogManagement_dropdown__UB1cQ",buttonGroup:"BlogManagement_buttonGroup__8YSEr",saveButton:"BlogManagement_saveButton___hrfO",cancelButton:"BlogManagement_cancelButton__DSiHx",actionButton:"BlogManagement_actionButton__4RGkD",editButton:"BlogManagement_editButton__RPMCY",deleteButton:"BlogManagement_deleteButton__X2V6x",toggleButton:"BlogManagement_toggleButton__haQHN",searchFilterContainer:"BlogManagement_searchFilterContainer__Ows8q",filterDropdownContainer:"BlogManagement_filterDropdownContainer__wkhwH",filterDropdown:"BlogManagement_filterDropdown__qtRF3",searchInputContainer:"BlogManagement_searchInputContainer__vNlvW",searchInput:"BlogManagement_searchInput__6xi3c",clearButton:"BlogManagement_clearButton__IkHnZ",blogList:"BlogManagement_blogList__Vd1N5",blogRow:"BlogManagement_blogRow__pSKYu",blogContent:"BlogManagement_blogContent___XaWr",blogTitle:"BlogManagement_blogTitle__PfgNr",statusBadge:"BlogManagement_statusBadge__n3gMC",draft:"BlogManagement_draft__lIdjm",published:"BlogManagement_published__UY_K8",blogPreview:"BlogManagement_blogPreview__1j0_7",blogDate:"BlogManagement_blogDate__fV1au",actionButtons:"BlogManagement_actionButtons__J4x_f",loader:"BlogManagement_loader__YnbYu",pagination:"BlogManagement_pagination__0t1NC"}},2610:e=>{e.exports={tabSection:"Project_tabSection__lhP_t",tabTitle:"Project_tabTitle__b98Eo",tabContent:"Project_tabContent__eGAK1"}},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3297:()=>{},3698:e=>{e.exports={container:"MemberManager_container__Ufraq",headerRow:"MemberManager_headerRow__cP1ua",header:"MemberManager_header__13k4M",logoutButton:"MemberManager_logoutButton__RmuqR",statusMessage:"MemberManager_statusMessage__O7fXE",successMessage:"MemberManager_successMessage__ZXAEO",errorMessage:"MemberManager_errorMessage__fV_yl",form:"MemberManager_form__Fg_Yc",inputRow:"MemberManager_inputRow__b4nJI",inputGroup:"MemberManager_inputGroup__s3T2P",label:"MemberManager_label__GOEtC",input:"MemberManager_input__8lYLS",inputFile:"MemberManager_inputFile__53qwM",previewContainer:"MemberManager_previewContainer__LMGz0",previewImage:"MemberManager_previewImage__oGegS",submitButton:"MemberManager_submitButton__CLvX2",tableContainer:"MemberManager_tableContainer__6irSO",table:"MemberManager_table__0HZnm",th:"MemberManager_th__E4rdC",td:"MemberManager_td__bCON8",tableImage:"MemberManager_tableImage__Z6k7g",actionButtons:"MemberManager_actionButtons__cEc64",editButton:"MemberManager_editButton__tpFvy",deleteButton:"MemberManager_deleteButton__Bo97_"}},3873:e=>{"use strict";e.exports=require("path")},3936:(e,t,a)=>{Promise.resolve().then(a.bind(a,9441))},5177:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=a(5239),r=a(8088),i=a(8170),n=a.n(i),o=a(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9441)),"D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"D:\\Digital MErkato\\DMerkato\\Digital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5379:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6444,23)),Promise.resolve().then(a.t.bind(a,6042,23)),Promise.resolve().then(a.t.bind(a,8170,23)),Promise.resolve().then(a.t.bind(a,9477,23)),Promise.resolve().then(a.t.bind(a,9345,23)),Promise.resolve().then(a.t.bind(a,2089,23)),Promise.resolve().then(a.t.bind(a,6577,23)),Promise.resolve().then(a.t.bind(a,1307,23))},6189:(e,t,a)=>{"use strict";var s=a(5773);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6325:e=>{e.exports={container:"ServiceManager_container__9mnEx",header:"ServiceManager_header__1QUHC",statusMessage:"ServiceManager_statusMessage__x8nW9",successMessage:"ServiceManager_successMessage__94Thu",errorMessage:"ServiceManager_errorMessage__2Kox5",loader:"ServiceManager_loader__ELkr2",form:"ServiceManager_form__ZyM6o",inputRow:"ServiceManager_inputRow__lRn_J",inputGroup:"ServiceManager_inputGroup__4uo_c",label:"ServiceManager_label__GqU5t",input:"ServiceManager_input__WcPAr",textarea:"ServiceManager_textarea__fS1LC",inputError:"ServiceManager_inputError___WWZh",errorText:"ServiceManager_errorText__yj8sd",inputFile:"ServiceManager_inputFile__tUCib",previewContainer:"ServiceManager_previewContainer__1zZ9H",previewImage:"ServiceManager_previewImage__Nqn0_",submitButton:"ServiceManager_submitButton___hQog",tableContainer:"ServiceManager_tableContainer___mwmT",table:"ServiceManager_table__xMkdM",th:"ServiceManager_th__uzukM",td:"ServiceManager_td__uhyKI",tableImage:"ServiceManager_tableImage__F74TN",actionButtons:"ServiceManager_actionButtons__QFIAN",editButton:"ServiceManager_editButton__rEdz7",deleteButton:"ServiceManager_deleteButton__htFAa",noData:"ServiceManager_noData__hzFkW"}},6449:()=>{},7488:(e,t,a)=>{Promise.resolve().then(a.bind(a,7495))},7495:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var s=a(687),r=a(3210),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(i),o=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){var s,r,i;s=e,r=t,i=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function m(e){return t=>r.createElement(u,l({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,a)=>r.createElement(t.tag,d({key:a},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var a,{attr:s,size:i,title:n}=e,c=function(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,o),m=i||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:a,style:d(d({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),n&&r.createElement("title",null,n),e.children)};return void 0!==n?r.createElement(n.Consumer,null,e=>t(e)):t(i)}function g(e){return m({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function h(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function p(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function _(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function b(e){return m({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function v(e){return m({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"},child:[]}]})(e)}var f=a(474),j=a(8686),x=a.n(j),N=a(1052),M=a.n(N),w=a(8151),y=a.n(w),B=a(6325),C=a.n(B),S=a(2610),P=a.n(S),$=a(9905),k=a.n($);function D(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[n,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(""),[d,m]=(0,r.useState)("all"),u=process.env.NEXT_PUBLIC_BACKEND_URL||"https://api.digitalmerkato.com.et",g=()=>{let e=localStorage.getItem("accessToken");return console.log("\uD83D\uDD10 Access Token from localStorage:",e?"Found":"Not found"),e},h=(0,r.useCallback)(async()=>{i(!0);let e=g();if(!e){o("No access token found. Please login."),i(!1);return}if(!u){o("Backend URL is not configured."),i(!1);return}let a=`${u}/api/notifications/list/?ordering=-created_at`;l&&(a+=`&search=${encodeURIComponent(l)}`);try{console.log("\uD83D\uDCE1 Fetching notifications from:",a);let s=await fetch(a,{headers:{Authorization:`Bearer ${e}`},cache:"no-store"});if(!s.ok){let e=await s.text();throw Error(`Error ${s.status}: ${e}`)}let r=await s.json(),i=(Array.isArray(r)?r:r.results||[]).map(e=>({...e,id:String(e.id)}));t(i),console.log("âœ… Notifications fetched:",i),o(null)}catch(t){let e=t instanceof Error?t.message:"Failed to fetch notifications";console.error("âŒ Failed to fetch notifications:",e),o(e)}finally{i(!1)}},[l,u]),p=e=>{let t=`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(e)}`;window.open(t,"_blank")},_=(()=>{let t=new Date,a=new Date(t.getTime()-864e5),s=new Date(t);s.setDate(t.getDate()-7);let r={recent:[],thisWeek:[],older:[]};switch(e.forEach(e=>{let t=new Date(e.created_at);t>=a?r.recent.push(e):t>=s?r.thisWeek.push(e):r.older.push(e)}),d){case"recent":return{...r,thisWeek:[],older:[]};case"thisWeek":return{...r,recent:[],older:[]};case"older":return{...r,recent:[],thisWeek:[]};default:return r}})();if(a)return(0,s.jsx)("div",{className:y().tabSection,children:(0,s.jsx)("div",{className:y().tabContent,children:(0,s.jsx)("div",{className:y().loader,children:"Loading notifications..."})})});if(n)return(0,s.jsx)("div",{className:y().tabSection,children:(0,s.jsxs)("div",{className:y().tabContent,children:[(0,s.jsxs)("p",{className:y().error,children:["Error: ",n]}),(0,s.jsx)("button",{className:y().retryButton,onClick:h,"aria-label":"Retry fetching notifications",children:"Retry"})]})});let b=(e,t)=>e.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:y().groupTitle,children:t}),e.map(e=>(0,s.jsxs)("div",{className:y().messageRow,children:[(0,s.jsxs)("div",{className:y().messageContent,children:[(0,s.jsx)("h3",{className:y().messageName,children:e.full_name}),(0,s.jsx)("p",{className:y().messageEmail,children:e.email}),e.title&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Title:"})," ",e.title]}),(0,s.jsx)("p",{className:y().messageText,children:e.message}),(0,s.jsx)("p",{className:y().messageDate,children:(0,s.jsx)("em",{children:new Date(e.created_at).toLocaleString()})})]}),(0,s.jsx)("div",{className:y().actionButtons,children:(0,s.jsx)("button",{className:y().actionButton,onClick:()=>p(e.email),"aria-label":`Reply to ${e.full_name}`,children:"Reply"})})]},e.id))]});return(0,s.jsx)("div",{className:y().tabSection,children:(0,s.jsxs)("div",{className:y().tabContent,children:[(0,s.jsx)("h1",{className:y().tabTitle,children:"User Notifications"}),(0,s.jsxs)("div",{className:y().searchFilterContainer,children:[(0,s.jsx)("div",{className:y().filterDropdownContainer,children:(0,s.jsxs)("select",{className:y().filterDropdown,value:d,onChange:e=>m(e.target.value),"aria-label":"Filter notifications by time",children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"recent",children:"Recent (Last 24 Hours)"}),(0,s.jsx)("option",{value:"thisWeek",children:"This Week"}),(0,s.jsx)("option",{value:"older",children:"Older"})]})}),(0,s.jsx)("input",{type:"text",placeholder:"Search by title or message",className:y().searchInput,value:l,onChange:e=>c(e.target.value),"aria-label":"Search notifications"})]}),e.length>0?(0,s.jsxs)("div",{className:y().messagesList,children:[b(_.recent,"Recent (Last 24 Hours)"),b(_.thisWeek,"This Week"),b(_.older,"Older"),0===_.recent.length&&0===_.thisWeek.length&&0===_.older.length&&(0,s.jsx)("p",{children:"No notifications found for this filter."})]}):(0,s.jsx)("p",{children:"No notifications found."})]})})}var E=a(6189),T=a(3698),F=a.n(T);function I(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)({full_name:"",position:"",image:null}),[n,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(null),[u,g]=(0,r.useState)({message:"",type:""}),h=process.env.NEXT_PUBLIC_BACKEND_URL;(0,E.useRouter)();let p=e=>e?e.startsWith("http")?e:`${h}/media/${e.replace(/^\/?media\/?/,"")}`:"",_=e=>{let{name:t,value:a,files:s}=e.target;s&&s[0]?(i(e=>({...e,image:s[0]})),o(URL.createObjectURL(s[0]))):i(e=>({...e,[t]:a}))},b=async e=>{if(e.preventDefault(),!d)return void g({message:"You are not authenticated",type:"error"});let s=new FormData;s.append("full_name",a.full_name),s.append("position",a.position),a.image&&s.append("image_icon",a.image);try{let e=await fetch(`${h}${l?`/api/staff-members/update/${l}/`:"/api/staff-members/"}`,{method:l?"PUT":"POST",headers:{Authorization:`Bearer ${d}`},body:s});if(!e.ok)throw Error("Failed to save member");let a=await e.json();l?(t(e=>e.map(e=>e.id===a.id?a:e)),c(null),g({message:"Member updated successfully",type:"success"})):(t(e=>[...e,a]),g({message:"Member added successfully",type:"success"})),i({full_name:"",position:"",image:null}),o(null)}catch(e){console.error("Submit error:",e.message),g({message:e.message||"Failed to save member",type:"error"})}},v=e=>{i({full_name:e.full_name,position:e.position,image:null}),o(p(e.image_icon)),c(e.id),g({message:"",type:""})},f=async e=>{if(!d)return void g({message:"You are not authenticated",type:"error"});try{if((await fetch(`${h}/api/staff-members/delete/${e}/`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}})).ok)t(t=>t.filter(t=>t.id!==e)),g({message:"Member deleted successfully",type:"success"});else throw Error("Failed to delete member")}catch(e){console.error("Delete error:",e.message),g({message:e.message||"Failed to delete member",type:"error"})}};return(0,s.jsxs)("div",{className:F().container,children:[(0,s.jsx)("div",{className:F().headerRow}),u.message&&(0,s.jsx)("div",{className:`${F().statusMessage} ${F()[`${u.type}Message`]}`,children:u.message}),(0,s.jsxs)("form",{onSubmit:b,className:F().form,children:[(0,s.jsxs)("div",{className:F().inputRow,children:[(0,s.jsxs)("div",{className:F().inputGroup,children:[(0,s.jsx)("label",{className:F().label,children:"Full Name"}),(0,s.jsx)("input",{name:"full_name",value:a.full_name,onChange:_,placeholder:"Full name",className:F().input,required:!0})]}),(0,s.jsxs)("div",{className:F().inputGroup,children:[(0,s.jsx)("label",{className:F().label,children:"Position"}),(0,s.jsx)("input",{name:"position",value:a.position,onChange:_,placeholder:"Position",className:F().input,required:!0})]}),(0,s.jsxs)("div",{className:F().inputGroup,children:[(0,s.jsx)("label",{className:F().label,children:"Image"}),(0,s.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:_,className:F().inputFile})]})]}),n&&(0,s.jsx)("div",{className:F().previewContainer,children:(0,s.jsx)("img",{src:n,alt:"Preview",className:F().previewImage})}),(0,s.jsx)("button",{type:"submit",className:F().submitButton,children:l?"Update Member":"Add New Member"})]}),(0,s.jsx)("div",{className:F().tableContainer,children:(0,s.jsxs)("table",{className:F().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:F().th,children:"Image"}),(0,s.jsx)("th",{className:F().th,children:"Name"}),(0,s.jsx)("th",{className:F().th,children:"Position"}),(0,s.jsx)("th",{className:F().th,children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:F().tr,children:[(0,s.jsx)("td",{className:F().td,children:(0,s.jsx)("img",{src:p(e.image_icon),alt:e.full_name,className:F().tableImage})}),(0,s.jsx)("td",{className:F().td,children:e.full_name}),(0,s.jsx)("td",{className:F().td,children:e.position}),(0,s.jsx)("td",{className:F().td,children:(0,s.jsxs)("div",{className:F().actionButtons,children:[(0,s.jsx)("button",{onClick:()=>v(e),className:F().editButton,children:"Edit"}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:F().deleteButton,children:"Delete"})]})})]},e.id))})]})})]})}var A=a(8731),L=a.n(A);function R(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)({title:"",description:"",image:null}),[n,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(null),[u,g]=(0,r.useState)({message:"",type:""}),h=process.env.NEXT_PUBLIC_BACKEND_URL;(0,E.useRouter)();let p=e=>e?e.startsWith("http")?e:`${h}/media/${e.replace(/^\/?media\/?/,"")}`:"",_=e=>{let{name:t,value:a,files:s}=e.target;s&&s[0]?(i(e=>({...e,image:s[0]})),o(URL.createObjectURL(s[0]))):i(e=>({...e,[t]:a}))},b=async e=>{if(e.preventDefault(),!d)return void g({message:"You are not authenticated",type:"error"});let s=new FormData;s.append("title",a.title),s.append("description",a.description),a.image&&s.append("image_icon",a.image);try{let e=await fetch(`${h}${l?`/api/projects/update/${l}/`:"/api/projects/"}`,{method:l?"PUT":"POST",headers:{Authorization:`Bearer ${d}`},body:s});if(!e.ok)throw Error("Failed to save project");let a=await e.json();l?(t(e=>e.map(e=>e.id===a.id?a:e)),c(null),g({message:"Project updated successfully",type:"success"})):(t(e=>[...e,a]),g({message:"Project added successfully",type:"success"})),i({title:"",description:"",image:null}),o(null)}catch(e){console.error("Submit error:",e.message),g({message:e.message||"Failed to save project",type:"error"})}},v=e=>{i({title:e.title,description:e.description,image:null}),o(p(e.image_icon)),c(e.id),g({message:"",type:""})},f=async e=>{if(!d)return void g({message:"You are not authenticated",type:"error"});try{if((await fetch(`${h}/api/projects/delete/${e}/`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}})).ok)t(t=>t.filter(t=>t.id!==e)),g({message:"Project deleted successfully",type:"success"});else throw Error("Failed to delete project")}catch(e){console.error("Delete error:",e.message),g({message:e.message||"Failed to delete project",type:"error"})}};return(0,s.jsxs)("div",{className:L().container,children:[(0,s.jsx)("div",{className:L().headerRow}),u.message&&(0,s.jsx)("div",{className:`${L().statusMessage} ${L()[`${u.type}Message`]}`,children:u.message}),(0,s.jsxs)("form",{onSubmit:b,className:L().form,children:[(0,s.jsxs)("div",{className:L().inputRow,children:[(0,s.jsxs)("div",{className:L().inputGroup,children:[(0,s.jsx)("label",{className:L().label,children:"Title"}),(0,s.jsx)("input",{name:"title",value:a.title,onChange:_,placeholder:"Project title",className:L().input,required:!0})]}),(0,s.jsxs)("div",{className:L().inputGroup,children:[(0,s.jsx)("label",{className:L().label,children:"Description"}),(0,s.jsx)("input",{name:"description",value:a.description,onChange:_,placeholder:"Project description",className:L().input,required:!0})]}),(0,s.jsxs)("div",{className:L().inputGroup,children:[(0,s.jsx)("label",{className:L().label,children:"Image"}),(0,s.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:_,className:L().inputFile})]})]}),n&&(0,s.jsx)("div",{className:L().previewContainer,children:(0,s.jsx)("img",{src:n,alt:"Preview",className:L().previewImage})}),(0,s.jsx)("button",{type:"submit",className:L().submitButton,children:l?"Update Project":"Add New Project"})]}),(0,s.jsx)("div",{className:L().tableContainer,children:(0,s.jsxs)("table",{className:L().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:L().th,children:"Image"}),(0,s.jsx)("th",{className:L().th,children:"Title"}),(0,s.jsx)("th",{className:L().th,children:"Description"}),(0,s.jsx)("th",{className:L().th,children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:L().tr,children:[(0,s.jsx)("td",{className:L().td,children:(0,s.jsx)("img",{src:p(e.image_icon),alt:e.title,className:L().tableImage})}),(0,s.jsx)("td",{className:L().td,children:e.title}),(0,s.jsx)("td",{className:L().td,children:e.description}),(0,s.jsx)("td",{className:L().td,children:(0,s.jsxs)("div",{className:L().actionButtons,children:[(0,s.jsx)("button",{onClick:()=>v(e),className:L().editButton,children:"Edit"}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:L().deleteButton,children:"Delete"})]})})]},e.id))})]})})]})}function O(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)({title:"",description:"",image:null}),[n,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)({message:"",type:""}),[u,g]=(0,r.useState)(!1),[h,p]=(0,r.useState)({}),_=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8000",b=()=>{let e=localStorage.getItem("accessToken");return console.log("\uD83D\uDD10 Access Token from localStorage:",e?"Found":"Not found"),e},v=e=>{if(!e)return console.log("âš ï¸ Image path is empty or null"),null;if(e.startsWith("http"))return console.log("\uD83C\uDF10 Absolute image URL:",e),e;let t=e.replace(/^\/?media\/?/,""),a=`${_}/media/${t}`;return console.log("\uD83D\uDDBCï¸ Constructed image URL:",a),a},f=async()=>{g(!0);let e=b();if(!e){m({message:"No access token found. Please login.",type:"error"}),g(!1);return}if(!_){m({message:"Backend URL is not configured.",type:"error"}),g(!1);return}try{console.log("\uD83D\uDCE1 Fetching services from:",`${_}/api/services/list/`);let a=await fetch(`${_}/api/services/list/?ordering=-id`,{headers:{Authorization:`Bearer ${e}`},cache:"no-store"});if(!a.ok){let e=await a.text();throw Error(`Error ${a.status}: ${e}`)}let s=await a.json(),r=(Array.isArray(s)?s:s.results||[]).map(e=>({...e,id:String(e.id)}));t(r),console.log("âœ… Services fetched:",r),m({message:"",type:""})}catch(e){console.error("âŒ Failed to fetch services:",e.message),m({message:`Failed to load services: ${e.message}`,type:"error"})}finally{g(!1)}},j=()=>{let e={};return a.title.trim()||(e.title="Title is required"),a.description.trim()||(e.description="Description is required"),p(e),0===Object.keys(e).length},x=e=>{let{name:t,value:a,files:s}=e.target;s&&s[0]?(i(e=>({...e,image:s[0]})),o(URL.createObjectURL(s[0])),p(e=>({...e,image:void 0}))):(i(e=>({...e,[t]:a})),p(e=>({...e,[t]:void 0})))},N=async e=>{if(e.preventDefault(),!j())return;g(!0);let t=b();if(!t){m({message:"No access token found. Please login.",type:"error"}),g(!1);return}let s=new FormData;s.append("title",a.title),s.append("description",a.description),a.image&&s.append("image_icon",a.image);try{let e=l?`${_}/api/services/update/${l}/`:`${_}/api/services/`;console.log(`ðŸ“¤ Sending ${l?"PUT":"POST"} to:`,e),console.log("\uD83D\uDCE4 FormData contents:",{title:a.title,description:a.description,image_icon:a.image?a.image.name:null});let r=await fetch(e,{method:l?"PUT":"POST",headers:{Authorization:`Bearer ${t}`},body:s});if(!r.ok){let e=await r.text();throw console.error("âŒ Response error:",r.status,e),Error(`Error ${r.status}: ${e}`)}let n=await r.json();console.log("\uD83D\uDCE5 Response data:",n),m({message:l?"Service updated successfully":"Service created successfully",type:"success"}),i({title:"",description:"",image:null}),o(null),c(null),p({}),f()}catch(e){console.error("âŒ Submit error:",e.message),m({message:`Failed to save service: ${e.message}`,type:"error"})}finally{g(!1)}},M=e=>{i({title:e.title,description:e.description,image:null}),o(v(e.image_icon)),c(e.id),m({message:"",type:""}),p({})},w=async e=>{g(!0);let a=b();if(!a){m({message:"No access token found. Please login.",type:"error"}),g(!1);return}try{console.log(`ðŸ“¤ Sending DELETE to: ${_}/api/services/delete/${e}/`);let s=await fetch(`${_}/api/services/delete/${e}/`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(!s.ok){let e=await s.text();throw console.error("âŒ Delete error:",s.status,e),Error(`Error ${s.status}: ${e}`)}t(t=>t.filter(t=>t.id!==e)),m({message:"Service deleted successfully",type:"success"})}catch(e){console.error("âŒ Delete error:",e.message),m({message:`Failed to delete service: ${e.message}`,type:"error"})}finally{g(!1)}};return(0,s.jsxs)("div",{className:C().container,children:[(0,s.jsx)("h1",{className:C().header,children:"Manage Services"}),d.message&&(0,s.jsx)("div",{className:`${C().statusMessage} ${C()[d.type+"Message"]}`,children:d.message}),u&&(0,s.jsx)("div",{className:C().loader,children:"Loading..."}),(0,s.jsxs)("form",{onSubmit:N,className:C().form,"aria-label":"Service form",children:[(0,s.jsxs)("div",{className:C().inputRow,children:[(0,s.jsxs)("div",{className:C().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"title",className:C().label,children:"Title"}),(0,s.jsx)("input",{id:"title",name:"title",value:a.title,onChange:x,placeholder:"Service Title",className:`${C().input} ${h.title?C().inputError:""}`,required:!0,"aria-invalid":!!h.title,"aria-describedby":h.title?"title-error":void 0}),h.title&&(0,s.jsx)("span",{id:"title-error",className:C().errorText,children:h.title})]}),(0,s.jsxs)("div",{className:C().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"description",className:C().label,children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:a.description,onChange:x,placeholder:"Service Description",className:`${C().input} ${h.description?C().inputError:""}`,required:!0,"aria-invalid":!!h.description,"aria-describedby":h.description?"description-error":void 0}),h.description&&(0,s.jsx)("span",{id:"description-error",className:C().errorText,children:h.description})]}),(0,s.jsxs)("div",{className:C().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"image",className:C().label,children:"Image (Optional)"}),(0,s.jsx)("input",{id:"image",type:"file",name:"image",accept:"image/*",onChange:x,className:`${C().inputFile} ${h.image?C().inputError:""}`,"aria-invalid":!!h.image,"aria-describedby":h.image?"image-error":void 0}),h.image&&(0,s.jsx)("span",{id:"image-error",className:C().errorText,children:h.image})]})]}),n&&(0,s.jsx)("div",{className:C().previewContainer,children:(0,s.jsx)("img",{src:n,alt:"Image preview",className:C().previewImage,onError:e=>e.currentTarget.src="/fallback-image.jpg"})}),(0,s.jsx)("button",{type:"submit",className:C().submitButton,disabled:u,children:l?"Update Service":"Add New Service"})]}),(0,s.jsxs)("div",{className:C().tableContainer,children:[(0,s.jsxs)("table",{className:C().table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:C().th,children:"Image"}),(0,s.jsx)("th",{className:C().th,children:"Title"}),(0,s.jsx)("th",{className:C().th,children:"Description"}),(0,s.jsx)("th",{className:C().th,children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:C().tr,children:[(0,s.jsx)("td",{className:C().td,children:v(e.image_icon)?(0,s.jsx)("img",{src:v(e.image_icon),alt:e.title,className:C().tableImage,onError:e=>e.currentTarget.src="/fallback-image.jpg"}):(0,s.jsx)("span",{children:"No image available"})}),(0,s.jsx)("td",{className:C().td,children:e.title}),(0,s.jsx)("td",{className:C().td,children:e.description}),(0,s.jsx)("td",{className:C().td,children:(0,s.jsxs)("div",{className:C().actionButtons,children:[(0,s.jsx)("button",{onClick:()=>M(e),className:C().editButton,"aria-label":`Edit ${e.title}`,children:"Edit"}),(0,s.jsx)("button",{onClick:()=>w(e.id),className:C().deleteButton,"aria-label":`Delete ${e.title}`,disabled:u,children:"Delete"})]})})]},e.id))})]}),0===e.length&&!u&&(0,s.jsx)("p",{className:C().noData,children:"No services found."})]})]})}function z(){let[e,t]=(0,r.useState)("blog"),[a,i]=(0,r.useState)("create"),[n,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,m]=(0,r.useState)("draft"),[u,j]=(0,r.useState)(null),[N,w]=(0,r.useState)([]),[B,S]=(0,r.useState)(""),[$,E]=(0,r.useState)("all"),[T,F]=(0,r.useState)("all"),[A,L]=(0,r.useState)(null),[z,U]=(0,r.useState)(1),[G,q]=(0,r.useState)(1),[H,W]=(0,r.useState)(!1),[V,Y]=(0,r.useState)({}),X=process.env.NEXT_PUBLIC_BACKEND_URL,Q=(0,r.useCallback)(async(e=1)=>{W(!0);try{let t=`${X}/api/blogs/?ordering=-created_at&page=${e}`;B&&(t+=`&search=${encodeURIComponent(B)}`),"all"!==$&&(t+=`&status=${$}`),"all"!==T&&(t+=`&date_filter=${T}`);let a=localStorage.getItem("accessToken");if(!a){alert("No access token found. Please login."),W(!1);return}let s=await fetch(t,{headers:{Authorization:`Bearer ${a}`}});if(!s.ok)throw Error(`Error: ${s.status} - ${await s.text()}`);let r=await s.json(),i=Array.isArray(r)?r:r.results||[];w(i),q(Array.isArray(r)?1:r.total_pages||1)}catch(t){console.error("Failed to fetch blogs:",t),w([]);let e=t instanceof Error?t.message:"Failed to fetch blogs";alert(`Failed to fetch blogs: ${e}`)}finally{W(!1)}},[X,B,$,T]),K=e=>{t(e)},Z=e=>{i(e),"view"===e&&(U(1),Q(1))},J=async()=>{if(!n.trim()||!l.trim())return void alert("Title and content are required.");if(n.length>200)return void alert("Title must not exceed 200 characters.");let e=localStorage.getItem("accessToken");if(!e)return void alert("No access token found. Please login.");let t=new FormData;t.append("title",n),t.append("content",l),t.append("status",d),u&&t.append("image_icon",u);try{let s=A?`${X}/api/blogs/edit/${A}/`:`${X}/api/blogs/create/`,r=await fetch(s,{method:A?"PATCH":"POST",headers:{Authorization:`Bearer ${e}`},body:t});if(!r.ok){let e=await r.text();throw Error(`Error: ${r.status} - ${e}`)}alert(A?"Blog updated successfully!":"Blog created successfully!"),ee(),"view"===a&&Q(z)}catch(t){console.error("Failed to save blog:",t);let e=t instanceof Error?t.message:"Failed to save blog";alert(`Failed to save blog. Please try again.
Error: ${e}`)}},ee=()=>{o(""),c(""),m("draft"),j(null),L(null)},et=e=>{i("create"),L(e.id),o(e.title),c(e.content),m(e.status),j(null)},ea=async e=>{if(!confirm("Are you sure you want to delete this blog?"))return;let t=localStorage.getItem("accessToken");if(!t)return void alert("No access token found. Please login.");try{let a=await fetch(`${X}/api/blogs/delete/${e}/`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!a.ok){let e=await a.text();throw Error(`Error: ${a.status}: ${e}`)}alert("Blog deleted successfully!"),Q(z)}catch(t){console.error("Failed to delete blog:",t);let e=t instanceof Error?t.message:"Failed to delete blog";alert(`Failed to delete blog: ${e}`)}},es=async(e,t)=>{let a="draft"===t?"published":"draft";Y(t=>({...t,[e]:a})),w(t=>t.map(t=>t.id===e?{...t,status:a}:t));let s=localStorage.getItem("accessToken");if(!s)return void alert("No access token found. Please login.");try{let t=await fetch(`${X}/api/blogs/edit/${e}/`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({status:a})});if(!t.ok){let e=await t.text();throw Error(`Error ${t.status}: ${e}`)}alert(`Blog status toggled to ${a} successfully!`),Q(z)}catch(s){console.error("Failed to toggle status:",s),Y(t=>{let a={...t};return delete a[e],a}),w(a=>a.map(a=>a.id===e?{...a,status:t}:a));let a=s instanceof Error?s.message:"Failed to toggle status";alert(`Failed to toggle status: ${a}`)}};return(0,s.jsxs)("div",{className:x().container,children:[(0,s.jsxs)("div",{className:x().header,children:[(0,s.jsx)(f.default,{src:"/images/logo.png",alt:"logo",width:80,height:60,style:{borderRadius:"50%"}}),(0,s.jsx)("h1",{className:x().title,children:"Admin Panel"}),(0,s.jsx)(h,{className:x().logoutIcon,onClick:()=>{localStorage.removeItem("accessToken"),window.location.href="/login"},title:"Logout","aria-label":"Logout"})]}),(0,s.jsxs)("div",{className:x().content,children:[(0,s.jsx)("div",{className:x().sidebar,children:(0,s.jsxs)("div",{className:x().sidebarButtons,children:[(0,s.jsxs)("h2",{className:`${x().sidebarItem} ${"blog"===e?x().active:""}`,onClick:()=>K("blog"),children:[(0,s.jsx)(v,{className:x().icon})," Blogs"]}),(0,s.jsxs)("h2",{className:`${x().sidebarItem} ${"notifications"===e?x().active:""}`,onClick:()=>K("notifications"),children:[(0,s.jsx)(g,{className:x().icon})," Notifications"]}),(0,s.jsxs)("h2",{className:`${x().sidebarItem} ${"project"===e?x().active:""}`,onClick:()=>K("project"),children:[(0,s.jsx)(p,{className:x().icon})," Add Projects"]}),(0,s.jsxs)("h2",{className:`${x().sidebarItem} ${"member"===e?x().active:""}`,onClick:()=>K("member"),children:[(0,s.jsx)(b,{className:x().icon})," Members"]}),(0,s.jsxs)("h2",{className:`${x().sidebarItem} ${"services"===e?x().active:""}`,onClick:()=>K("services"),children:[(0,s.jsx)(_,{className:x().icon})," Add Services"]})]})}),(0,s.jsxs)("div",{className:x().mainContent,children:["blog"===e&&(0,s.jsx)("div",{className:M().tabSection,children:(0,s.jsxs)("div",{className:M().tabContent,children:[(0,s.jsxs)("div",{className:M().blogNav,children:[(0,s.jsx)("button",{className:`${M().navButton} ${"create"===a?M().activeNav:""}`,onClick:()=>Z("create"),children:A?"Edit Blog":"Create Blog"}),(0,s.jsx)("button",{className:`${M().navButton} ${"view"===a?M().activeNav:""}`,onClick:()=>Z("view"),children:"View Blogs"})]}),"create"===a?(0,s.jsxs)("div",{className:M().createBlog,children:[(0,s.jsx)("h4",{className:M().formTitle,children:A?"Edit Blog":"Create Blog"}),(0,s.jsxs)("div",{className:M().form,children:[(0,s.jsx)("input",{type:"text",placeholder:"Enter blog title",className:M().input,value:n,onChange:e=>o(e.target.value),maxLength:200,"aria-label":"Blog title"}),(0,s.jsx)("textarea",{placeholder:"Write your content here...",className:M().textarea,value:l,onChange:e=>c(e.target.value),"aria-label":"Blog content"}),(0,s.jsx)("input",{type:"file",accept:"image/*",className:M().input,onChange:e=>j(e.target.files?e.target.files[0]:null),"aria-label":"Upload blog image"}),(0,s.jsx)("div",{className:M().dropdownGroup,children:(0,s.jsxs)("select",{className:M().dropdown,value:d,onChange:e=>m(e.target.value),"aria-label":"Blog status",children:[(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"published",children:"Published"})]})}),(0,s.jsxs)("div",{className:M().buttonGroup,children:[(0,s.jsx)("button",{className:M().saveButton,onClick:J,children:A?"Update":"Save"}),(0,s.jsx)("button",{className:M().cancelButton,onClick:()=>{ee()},children:"Cancel"})]})]})]}):(0,s.jsxs)("div",{className:M().viewBlogs,children:[(0,s.jsxs)("div",{className:M().searchFilterContainer,children:[(0,s.jsx)("div",{className:M().filterDropdownContainer,children:(0,s.jsxs)("select",{className:M().filterDropdown,value:$,onChange:e=>E(e.target.value),"aria-label":"Filter blogs by status",children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"published",children:"Published"})]})}),(0,s.jsx)("div",{className:M().filterDropdownContainer,children:(0,s.jsxs)("select",{className:M().filterDropdown,value:T,onChange:e=>F(e.target.value),"aria-label":"Filter blogs by date",children:[(0,s.jsx)("option",{value:"all",children:"All Dates"}),(0,s.jsx)("option",{value:"last_7_days",children:"Last 7 Days"}),(0,s.jsx)("option",{value:"last_30_days",children:"Last 30 Days"}),(0,s.jsx)("option",{value:"last_year",children:"Last Year"})]})}),(0,s.jsxs)("div",{className:M().searchInputContainer,children:[(0,s.jsx)("input",{type:"text",placeholder:"Search by title or content",className:M().searchInput,value:B,onChange:e=>S(e.target.value),"aria-label":"Search blogs"}),B&&(0,s.jsx)("button",{className:M().clearButton,onClick:()=>{S("")},"aria-label":"Clear search",children:"Clear"})]})]}),H?(0,s.jsx)("div",{className:M().loader,children:"Loading blogs..."}):N.length>0?(0,s.jsxs)("div",{className:M().blogList,children:[N.map(e=>(0,s.jsxs)("div",{className:M().blogRow,children:[(0,s.jsxs)("div",{className:M().blogContent,children:[(0,s.jsxs)("h5",{className:M().blogTitle,children:[e.title," ",(0,s.jsx)("span",{className:`${M().statusBadge} ${"draft"===(V[e.id]||e.status)?M().draft:M().published}`,children:V[e.id]||e.status})]}),(0,s.jsxs)("p",{className:M().blogPreview,children:[e.content.substring(0,100),"..."]}),(0,s.jsx)("p",{className:M().blogDate,children:new Date(e.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{className:M().actionButtons,children:[(0,s.jsx)("button",{className:`${M().actionButton} ${M().editButton}`,onClick:()=>et(e),"aria-label":`Edit blog ${e.title}`,children:"Edit"}),(0,s.jsx)("button",{className:`${M().actionButton} ${M().deleteButton}`,onClick:()=>ea(e.id),"aria-label":`Delete blog ${e.title}`,children:"Delete"}),(0,s.jsx)("button",{className:`${M().actionButton} ${M().toggleButton}`,onClick:()=>es(e.id,e.status),"aria-label":`Toggle status of blog ${e.title}`,children:"Toggle Status"})]})]},e.id)),(0,s.jsxs)("div",{className:M().pagination,children:[(0,s.jsx)("button",{disabled:1===z,onClick:()=>U(z-1),"aria-label":"Previous page",children:"Previous"}),(0,s.jsxs)("span",{children:["Page ",z," of ",G]}),(0,s.jsx)("button",{disabled:z===G,onClick:()=>U(z+1),"aria-label":"Next page",children:"Next"})]})]}):(0,s.jsx)("p",{children:"No blogs found for the selected filters."})]})]})}),"notifications"===e&&(0,s.jsx)("div",{className:y().tabSection,children:(0,s.jsx)("div",{className:y().tabContent,children:(0,s.jsx)(D,{})})}),"services"===e&&(0,s.jsx)("div",{className:C().tabSection,children:(0,s.jsx)("div",{className:C().tabContent,children:(0,s.jsx)(O,{})})}),"project"===e&&(0,s.jsx)("div",{className:P().tabSection,children:(0,s.jsx)("div",{className:P().tabContent,children:(0,s.jsx)(R,{})})}),"member"===e&&(0,s.jsx)("div",{className:k().tabSection,children:(0,s.jsx)("div",{className:k().tabContent,children:(0,s.jsx)(I,{})})})]})]})]})}},8014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>o,viewport:()=>n});var s=a(7413);a(2704);var r=a(2678),i=a.n(r);let n={themeColor:"#ffffff",width:"device-width",initialScale:1,viewportFit:"cover"},o={title:{default:"Digital Merkato Technology PLC",template:"%s | Digital Merkato"},description:"Your technology solutions partner",metadataBase:new URL("https://www.digitalmerkato.com"),openGraph:{title:"Digital Merkato Technology PLC",description:"Your technology solutions partner",url:"https://www.digitalmerkato.com",siteName:"Digital Merkato",images:[{url:"/images/og-image.jpg",width:1200,height:630}],locale:"en_US",type:"website"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},icons:{icon:"/favicon.ico",shortcut:"/favicon-16x16.png",apple:"/apple-touch-icon.png"},manifest:"/site.webmanifest"};function l({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,className:`${i().variable}`,children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5QvZ1FAd2P1dQKQh3cQhF",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,s.jsx)("link",{rel:"icon",href:"/icon.svg",type:"image/svg+xml"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"})]}),(0,s.jsx)("body",{className:"min-h-screen antialiased font-sans",children:e})]})}},8151:e=>{e.exports={tabSection:"Notifications_tabSection__CUtoz",tabTitle:"Notifications_tabTitle__9uLbv",tabContent:"Notifications_tabContent__oU6Vd",searchFilterContainer:"Notifications_searchFilterContainer__a7fKq",filterDropdownContainer:"Notifications_filterDropdownContainer__3SrwF",filterDropdown:"Notifications_filterDropdown__yMROP",searchInput:"Notifications_searchInput__dhfV6",messagesList:"Notifications_messagesList__1SLXx",messageRow:"Notifications_messageRow__vxrrD",messageContent:"Notifications_messageContent__I8FAX",messageName:"Notifications_messageName__NYXPr",statusBadge:"Notifications_statusBadge__FqPL5",read:"Notifications_read__ndBwN",unread:"Notifications_unread__U4kPP",messageEmail:"Notifications_messageEmail__kD2jL",messageText:"Notifications_messageText__ycU1b",messageDate:"Notifications_messageDate__13mpv",actionButtons:"Notifications_actionButtons___3ik_",actionButton:"Notifications_actionButton__8So9e",loader:"Notifications_loader__1_5ep",error:"Notifications_error__jqs6L",retryButton:"Notifications_retryButton__rwAOI",groupTitle:"Notifications_groupTitle__MppqQ"}},8686:e=>{e.exports={container:"AdminDashboard_container__lmrTq",icon:"AdminDashboard_icon__erolX",header:"AdminDashboard_header__jjkgY",title:"AdminDashboard_title__YcPPd",logoutIcon:"AdminDashboard_logoutIcon__SOz4Q",content:"AdminDashboard_content__vXS_l",sidebar:"AdminDashboard_sidebar__qQfRL",sidebarButton:"AdminDashboard_sidebarButton__K12Sy",sidebarButtons:"AdminDashboard_sidebarButtons__4wS90",sidebarItem:"AdminDashboard_sidebarItem__eJUvB",active:"AdminDashboard_active__e4Ed8",mainContent:"AdminDashboard_mainContent__F7zXi"}},8731:e=>{e.exports={container:"ProjectManager_container__sbgb0",headerRow:"ProjectManager_headerRow__HuMP9",header:"ProjectManager_header__HROQ1",logoutButton:"ProjectManager_logoutButton__3dwVj",statusMessage:"ProjectManager_statusMessage__q66p0",successMessage:"ProjectManager_successMessage__fHTLl",errorMessage:"ProjectManager_errorMessage__AopOt",form:"ProjectManager_form__UfIKx",inputRow:"ProjectManager_inputRow__J5o6q",inputGroup:"ProjectManager_inputGroup__wV65k",label:"ProjectManager_label__abECs",input:"ProjectManager_input__YGRVt",inputFile:"ProjectManager_inputFile__U49nh",previewContainer:"ProjectManager_previewContainer__SAncz",previewImage:"ProjectManager_previewImage__jl8wT",submitButton:"ProjectManager_submitButton__bwCwQ",tableContainer:"ProjectManager_tableContainer__2cFCn",table:"ProjectManager_table__5ByE_",th:"ProjectManager_th__mm_72",td:"ProjectManager_td__UHz8L",tableImage:"ProjectManager_tableImage__M2XMg",actionButtons:"ProjectManager_actionButtons__aWGTE",editButton:"ProjectManager_editButton__WUFTG",deleteButton:"ProjectManager_deleteButton__kjv59"}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9441:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Digital MErkato\\\\DMerkato\\\\Digital\\\\app\\\\admin\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\page.tsx","default")},9905:e=>{e.exports={tabSection:"Member_tabSection__9SX4F",tabTitle:"Member_tabTitle__cc_Ti",tabContent:"Member_tabContent__57_eI"}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[524,474],()=>a(5177));module.exports=s})();