(()=>{var e={};e.id=993,e.ids=[993],e.modules={737:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>m,routeModule:()=>g,tree:()=>d});var i=s(5239),r=s(8088),n=s(8170),a=s.n(n),o=s(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["admin",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8582)),"D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\notifications\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"D:\\Digital MErkato\\DMerkato\\Digital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,m=["D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\notifications\\page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},g=new i.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/notifications/page",pathname:"/admin/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1035:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3297:()=>{},3416:(e,t,s)=>{Promise.resolve().then(s.bind(s,5528))},3873:e=>{"use strict";e.exports=require("path")},5379:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},5528:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var i=s(687),r=s(3210),n=s(5940),a=s.n(n);let o=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=process.env.NEXT_PUBLIC_BACKEND_URL;if(!e){l("Backend URL is not defined"),n(!1);return}(async()=>{let s=localStorage.getItem("accessToken");if(!s){l("You are not logged in as admin."),n(!1);return}try{let i=await fetch(`${e}/api/notifications/list/`,{headers:{Authorization:`Bearer ${s}`}});if(!i.ok)throw Error(`Error: ${i.status}`);let r=await i.json();t(r)}catch(e){console.error("Failed to fetch notifications:",e),l(e instanceof Error?e.message:"Unknown error")}finally{n(!1)}})()},[]),s)?(0,i.jsx)("div",{className:a().adminContainer,children:(0,i.jsx)("p",{children:"Loading notifications..."})}):o?(0,i.jsxs)("div",{className:a().adminContainer,children:[(0,i.jsxs)("p",{children:["Error loading notifications: ",o]}),(0,i.jsx)("button",{onClick:()=>location.reload(),children:"Retry"})]}):(0,i.jsxs)("div",{className:a().adminContainer,children:[(0,i.jsx)("h1",{children:"User Notifications"}),e.length>0?(0,i.jsx)("div",{className:a().messagesGrid,children:e.map(e=>(0,i.jsxs)("div",{className:a().messageCard,children:[(0,i.jsxs)("div",{className:a().messageHeader,children:[(0,i.jsx)("div",{children:new Date(e.created_at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,i.jsx)("h3",{children:e.full_name}),(0,i.jsx)("p",{className:a().messageEmail,children:e.email})]}),(0,i.jsxs)("div",{className:a().messageBody,children:[e.title&&(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Title:"})," ",e.title]}),(0,i.jsx)("p",{children:e.message})]})]},e.email))}):(0,i.jsx)("p",{children:"No notifications found"})]})}},5940:e=>{e.exports={adminContainer:"AdminMessage_adminContainer___zaew",header:"AdminMessage_header__xROoH",messageCount:"AdminMessage_messageCount__ur_NU",messagesGrid:"AdminMessage_messagesGrid__YZ7bs",messageCard:"AdminMessage_messageCard__e_43B",read:"AdminMessage_read___qE7l",messageHeader:"AdminMessage_messageHeader__wMRSb",messageEmail:"AdminMessage_messageEmail__rWrwp",messageDate:"AdminMessage_messageDate__yCBBr",messageBody:"AdminMessage_messageBody__LhdF3",messageSubject:"AdminMessage_messageSubject__axmmf",messageContent:"AdminMessage_messageContent__Gmq_g",loadingState:"AdminMessage_loadingState__6lss0",errorState:"AdminMessage_errorState__9QyY7",emptyState:"AdminMessage_emptyState__GjKRX",spinner:"AdminMessage_spinner__nZq2V",spin:"AdminMessage_spin__5nVn1",retryButton:"AdminMessage_retryButton__hZ8e1"}},6449:()=>{},6568:(e,t,s)=>{Promise.resolve().then(s.bind(s,8582))},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>o,viewport:()=>a});var i=s(7413);s(2704);var r=s(2678),n=s.n(r);let a={themeColor:"#ffffff",width:"device-width",initialScale:1,viewportFit:"cover"},o={title:{default:"Digital Merkato Technology PLC",template:"%s | Digital Merkato"},description:"Your technology solutions partner",metadataBase:new URL("https://www.digitalmerkato.com"),openGraph:{title:"Digital Merkato Technology PLC",description:"Your technology solutions partner",url:"https://www.digitalmerkato.com",siteName:"Digital Merkato",images:[{url:"/images/og-image.jpg",width:1200,height:630}],locale:"en_US",type:"website"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},icons:{icon:"/favicon.ico",shortcut:"/favicon-16x16.png",apple:"/apple-touch-icon.png"},manifest:"/site.webmanifest"};function l({children:e}){return(0,i.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,className:`${n().variable}`,children:[(0,i.jsxs)("head",{children:[(0,i.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5QvZ1FAd2P1dQKQh3cQhF",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,i.jsx)("link",{rel:"icon",href:"/icon.svg",type:"image/svg+xml"}),(0,i.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"})]}),(0,i.jsx)("body",{className:"min-h-screen antialiased font-sans",children:e})]})}},8582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Digital MErkato\\\\DMerkato\\\\Digital\\\\app\\\\admin\\\\notifications\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Digital MErkato\\DMerkato\\Digital\\app\\admin\\notifications\\page.tsx","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[524],()=>s(737));module.exports=i})();